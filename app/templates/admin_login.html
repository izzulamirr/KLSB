{% extends "base.html" %}
{% block title %}Admin Login â€” KLSB{% endblock %}

{% block content %}
<section class="py-20 bg-white">
  <div class="max-w-md mx-auto bg-slate-50 rounded-xl shadow p-8">
    <h1 class="text-2xl font-bold text-center mb-6 text-[#030C69]">Admin Login</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div id="flash-messages" class="mb-4 space-y-2">
          {% for category, msg in messages %}
            <div class="text-sm p-3 rounded
                        {% if category == 'error' %} bg-red-100 text-red-700
                        {% elif category == 'warning' %} bg-yellow-100 text-yellow-800
                        {% elif category == 'success' %} bg-green-100 text-green-700
                        {% else %} bg-slate-100 text-slate-800 {% endif %}">
              {{ msg }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" class="space-y-5">
      <div>
        <label class="block font-medium text-sm text-gray-700 mb-1">Username</label>
        <input type="text" name="username" required
               class="w-full border rounded-md px-3 py-2 focus:ring focus:ring-[#030C69] focus:border-[#030C69]">
      </div>

      <div>
        <label class="block font-medium text-sm text-gray-700 mb-1">Password</label>
        <input type="password" name="password" required
               class="w-full border rounded-md px-3 py-2 focus:ring focus:ring-[#030C69] focus:border-[#030C69]">
      </div>

      <button type="submit"
              class="w-full bg-[#030C69] text-white font-semibold py-2 rounded-md hover:shadow-md transition">
        Login
      </button>
    </form>
  </div>
</section>
{% endblock %}


{% block extra_scripts %}
<script>
  // Find the flash messages container by its ID
  const flashMessages = document.getElementById('flash-messages');

  // If the container exists on the page...
  if (flashMessages) {
    // ...wait for 3 seconds (3000 milliseconds), then hide it.
    setTimeout(() => {
      flashMessages.style.display = 'none';
    }, 1000);
  }
</script>
{% endblock %}