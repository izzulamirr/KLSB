/* Base Reset & Typography */
* { box-sizing: border-box; }
html { -webkit-font-smoothing: antialiased; }
body { margin:0; font-family: var(--font-sans); line-height:1.55; background: var(--color-bg); color: var(--color-text); transition: background var(--trans-fast), color var(--trans-fast); }
body, html { min-height:100%; }

:root[data-theme='dark'] body { background: var(--color-bg-dark); color: var(--color-text-dark); }

img { max-width:100%; height:auto; display:block; }
a { color: var(--color-primary); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Layout */
.container { width:100%; max-width: 1080px; margin:0 auto; padding: 0 var(--space-5); }
.site-header { backdrop-filter: blur(8px); background: linear-gradient(90deg, var(--color-bg-alt) 0%, var(--color-bg) 100%); border-bottom:1px solid var(--color-border); position:sticky; top:0; z-index:50; }
:root[data-theme='dark'] .site-header { background: linear-gradient(90deg, var(--color-bg-alt-dark) 0%, var(--color-bg-dark) 100%); border-color: var(--color-border-dark); }

.site-footer { margin-top: var(--space-12); padding: var(--space-8) 0; border-top:1px solid var(--color-border); background: var(--color-bg-alt); }
:root[data-theme='dark'] .site-footer { background: var(--color-bg-alt-dark); border-color: var(--color-border-dark); }

.site-main { padding-top: var(--space-8); }

/* Navigation */
.nav-list { list-style:none; margin:0; padding:0; display:flex; gap: var(--space-4); }
.nav-list a { display:inline-block; padding: var(--space-2) var(--space-3); border-radius: var(--radius-sm); font-weight:500; }
.nav-list a.active, .nav-list a:hover { background: var(--color-primary-bg); color: var(--color-primary-accent); text-decoration:none; }
:root[data-theme='dark'] .nav-list a.active, :root[data-theme='dark'] .nav-list a:hover { background: var(--color-primary-bg-dark); }

/* Hero */
.hero { padding: clamp(3rem, 8vw, 6rem) 0 var(--space-12); text-align:center; position:relative; }
.hero-inner { max-width:780px; margin:0 auto; }
.gradient-text { background: linear-gradient(90deg, var(--color-primary), var(--color-accent)); background-clip:text; -webkit-background-clip:text; color:transparent; font-size: clamp(2.25rem, 6vw, 3.25rem); line-height:1.1; font-weight:700; letter-spacing:-.02em; }
.lead { font-size: var(--font-size-lg); color: var(--color-text-light); margin: var(--space-4) auto var(--space-6); max-width: 60ch; }
:root[data-theme='dark'] .lead { color: var(--color-text-light-dark); }

/* Cards / Features */
.grid.features { display:grid; gap: var(--space-6); grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); margin-top: var(--space-10); }
.card { background: var(--color-surface); padding: var(--space-6); border:1px solid var(--color-border); border-radius: var(--radius-md); box-shadow: var(--shadow-sm); transition: box-shadow var(--trans-fast), transform var(--trans-fast), background var(--trans-fast); }
.card:hover { transform: translateY(-3px); box-shadow: var(--shadow-md); }
:root[data-theme='dark'] .card { background: var(--color-surface-dark); border-color: var(--color-border-dark); }

/* Hero cards: make each card a flex column and use responsive min-heights so all look uniform */
.hero-cards {
  align-items: stretch;
  /* make each grid cell have equal height (rows will size to tallest content)
     and let children stretch to fill the grid area */
  grid-auto-rows: 1fr;
}
.hero-cards > a {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  height: 100%;
}

/* Ensure any direct child inside a hero card is vertically centered
   This handles cases where the card has one or multiple child elements */
.hero-cards > a > * {
  margin: 0 auto; /* center horizontally */
  width: auto;    /* allow content to size naturally */
  align-self: center; /* center vertically within the flex parent */
}

.hero-cards > a .text-xl { display: inline-block; text-align: center; }

/* Buttons */
.btn { --btn-bg: var(--color-primary); --btn-bg-hover: var(--color-primary-accent); --btn-color:#fff; --btn-border: transparent; font: inherit; cursor:pointer; display:inline-flex; align-items:center; gap: .5ch; border:1px solid var(--btn-border); background: var(--btn-bg); color: var(--btn-color); padding: var(--space-3) var(--space-5); border-radius: var(--radius-full); font-weight:600; text-decoration:none; line-height:1.2; box-shadow: var(--shadow-sm); transition: background var(--trans-fast), color var(--trans-fast), transform var(--trans-fast), box-shadow var(--trans-fast); }
.btn:hover { background: var(--btn-bg-hover); text-decoration:none; }
.btn:active { transform: translateY(1px); }
.btn-outline { --btn-bg: transparent; --btn-bg-hover: var(--color-primary-bg); --btn-color: var(--color-primary); --btn-border: var(--color-primary); }
.btn-ghost { --btn-bg: transparent; --btn-bg-hover: var(--color-primary-bg); --btn-color: var(--color-text); --btn-border: transparent; box-shadow:none; }
:root[data-theme='dark'] .btn-ghost { --btn-color: var(--color-text-dark); }
.btn-ghost:hover { box-shadow:none; }
/* Removed empty .btn-primary rule */

/* Utilities */
.flex { display:flex; }
.center-y { align-items:center; }
.between { justify-content:space-between; }
.gap-2 { gap: var(--space-2); }
.gap-4 { gap: var(--space-4); }
.small { font-size: var(--font-size-sm); }
.text-dim { color: var(--color-text-light); }
:root[data-theme='dark'] .text-dim { color: var(--color-text-light-dark); }
.fade-in { animation: fade .6s ease; }
@keyframes fade { from { opacity:0; transform: translateY(8px);} to { opacity:1; transform:translateY(0);} }

/* Prose */
.prose { max-width: 70ch; }
.prose h1 { font-size: var(--font-size-4xl); margin-top:0; }
.prose h2 { margin-top: var(--space-8); font-size: var(--font-size-2xl); }
.prose p, .prose li { color: var(--color-text-light); }
:root[data-theme='dark'] .prose p, :root[data-theme='dark'] .prose li { color: var(--color-text-light-dark); }
.prose ul, .prose ol { padding-left: 1.25rem; }

/* Skip Link */
.skip-link { position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus { left: var(--space-4); top: var(--space-4); width:auto; height:auto; background: var(--color-primary); color:#fff; padding: var(--space-2) var(--space-4); border-radius: var(--radius-sm); }

/* Theme */
:root[data-theme='dark'] { color-scheme: dark; }
:root[data-theme='dark'] body { background: var(--color-bg-dark); }

/* Responsive Nav (basic) */
@media (max-width: 640px) {
  .nav-list { gap: var(--space-2); }
  .nav-list a { padding: var(--space-2) var(--space-2); font-size: var(--font-size-sm); }
  .hero { padding-top: var(--space-10); }
}

/* Marketplace Hero */
.market-hero { position:relative; isolation:isolate; min-height: 72vh; display:flex; align-items:stretch; }
.market-hero .hero-bg { position:absolute; inset:0; background: linear-gradient(rgba(15,23,42,.35), rgba(15,23,42,.45)), url('/static/img/hero.jpg') center/cover no-repeat; z-index:-2; }
:root[data-theme='dark'] .market-hero .hero-bg { background: linear-gradient(rgba(15,23,42,.60), rgba(15,23,42,.75)), url('/static/img/hero.jpg') center/cover no-repeat; }
.market-hero-inner { width:100%; display:grid; grid-template-columns: 1fr minmax(360px, 430px); gap: clamp(2rem,4vw,4rem); padding: clamp(2rem,4vw,4rem) clamp(1.25rem,4vw,3rem) clamp(3rem,6vw,4rem); }
.hero-left { color:#fff; max-width:640px; }
.hero-heading { font-size: clamp(2.75rem,5vw,3.75rem); line-height:1.05; font-weight:700; letter-spacing:-.02em; margin:0 0 1rem; }
.hero-sub { font-size: 1.05rem; font-weight:500; margin:0 0 1.25rem; max-width: 40ch; }
.hero-left .checklist { list-style:none; padding:0; margin:0; font-size:.95rem; display:grid; gap:.5rem; }
.hero-left .checklist li { position:relative; padding-left:1.25rem; }
.hero-left .checklist li::before { content:'âœ”'; position:absolute; left:0; color: #22c55e; font-size:.85rem; top:2px; }

/* Floating Panel */
.hero-right { display:flex; align-items:flex-start; justify-content:center; }
.panel { width:100%; background: linear-gradient(145deg, rgba(255,255,255,0.85), rgba(255,255,255,0.65)); backdrop-filter: blur(22px); border:1px solid rgba(255,255,255,0.4); border-radius: var(--radius-lg); padding:2rem 1.75rem 1.5rem; box-shadow: 0 8px 24px -6px rgba(0,0,0,0.25); color: var(--color-text); position:relative; }
:root[data-theme='dark'] .panel { background: linear-gradient(145deg, rgba(30,41,59,0.85), rgba(30,41,59,0.70)); border-color: rgba(255,255,255,0.08); color: var(--color-text-dark); }
.panel-section + .panel-section { margin-top:1.75rem; }
.panel-eyebrow { margin:0 0 .75rem; font-weight:500; font-size:.95rem; }
.panel-bullets, .panel-ordered { margin:0 0 1.25rem; padding-left:1.1rem; font-size:.85rem; line-height:1.4; }
.panel-bullets { list-style: disc; }
.panel-ordered { list-style: decimal; }
.panel .btn.wide { width:100%; justify-content:center; }
.panel-terms { margin:1.75rem 0 0; text-align:center; font-size: .65rem; opacity:.8; }
.panel-terms a { color:inherit; text-decoration: underline; }
.panel-separator { position:relative; margin:1.6rem 0 1.25rem; border-top:1px solid var(--color-border); }
:root[data-theme='dark'] .panel-separator { border-color: var(--color-border-dark); }
.panel-separator .sep-label { position:absolute; left:50%; top:0; transform:translate(-50%,-50%); font-size:.55rem; background: var(--color-surface); padding:.25rem .5rem; border:1px solid var(--color-border); border-radius: var(--radius-full); letter-spacing:.08em; font-weight:600; }
:root[data-theme='dark'] .panel-separator .sep-label { background: var(--color-surface-dark); border-color: var(--color-border-dark); }

/* After Hero */
.after-hero { padding-top: var(--space-12); }

/* Glass utility */
.glass { background: linear-gradient(145deg, rgba(255,255,255,0.85), rgba(255,255,255,0.7)); backdrop-filter: blur(20px); }
:root[data-theme='dark'] .glass { background: linear-gradient(145deg, rgba(30,41,59,0.85), rgba(30,41,59,0.65)); }

/* Responsive */
@media (max-width: 980px) {
  .market-hero-inner { grid-template-columns: 1fr; }
  .hero-right { order:2; }
  .hero-left { order:1; }
  .panel { margin-top:1rem; }
}
@media (max-width: 640px) {
  .panel { padding:1.4rem 1.1rem 1rem; }
  .hero-heading { font-size: clamp(2.25rem,9vw,3rem); }
  .hero-sub { font-size:.95rem; }
}

/* Provide fallback hero image if missing */
@media (prefers-reduced-data: reduce) {
  .market-hero .hero-bg { background: var(--color-bg-alt); }
}
