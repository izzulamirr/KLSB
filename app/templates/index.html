{% extends "base.html" %}
{% block title %}Kemuncak Lanai{% endblock %}
{% block content %}
{% set hero_image = url_for('static', filename='img/hero.jpg') %}

<!-- Hero -->
<section class="relative min-h-screen overflow-hidden text-center flex items-center">
  <div class="absolute inset-0 -z-10 bg-cover bg-center" style="background-image: url('{{ hero_image }}');"></div>
  <div class="absolute inset-0 -z-10 bg-black/50"></div>
  <div class="w-full max-w-5xl mx-auto px-6 py-28">
    <h1 class="text-4xl sm:text-6xl uppercase font-bold text-white">Your Partner to Strategic Value Creation</h1>
    <p class="mt-6 text-slate-200 text-lg max-w-3xl mx-auto">Your one-stop partner for manpower, engineering, digital solutions, specialized inspections, construction and supply trading.</p>
    <div class="mt-8 flex flex-col sm:flex-row gap-4 justify-center">
      <a href="/services" class="rounded-2xl bg-white text-slate-900 px-6 py-3 text-sm font-medium shadow hover:shadow-md transition">Explore services</a>
  <a href="/contact" class="rounded-2xl border border-white/60 text-white px-6 py-3 text-sm font-medium hover:bg-white/10 transition">Request a proposal</a>
    </div>
  <div class="mt-14 grid gap-6 sm:grid-cols-3 text-center hero-cards">
      <a href="{{ url_for('main.services_manpower') }}"
   class="group relative block rounded-2xl border bg-white p-6 shadow-sm overflow-hidden hover:shadow-md transition rm-safe text-center">
  <!-- Hover image -->
  <img src="{{ url_for('static', filename='img/2584721_XL.jpg') }}"
       alt="Professional & Technical Manpower"
       class="pointer-events-none absolute inset-0 h-full w-full object-cover opacity-0 scale-105
              transition duration-500 ease-out group-hover:opacity-100 group-hover:scale-100">
  <!-- Overlay -->
  <div class="pointer-events-none absolute inset-0 bg-black/0 transition duration-500 ease-out
              group-hover:bg-black/35"></div>
  <!-- Text (centered) -->
  <div class="relative z-10 flex flex-col items-center justify-center h-full transition duration-500 ease-out group-hover:opacity-0">
    <div class="text-xl font-semibold">PROFESSIONAL & TECHNICAL MANPOWER SERVICES</div>
  </div>
</a>
<a href="{{ url_for('main.services_engineering') }}"
   class="group relative block rounded-2xl border bg-white p-6 shadow-sm overflow-hidden hover:shadow-md transition rm-safe text-center">
  <!-- Hover image -->
  <img src="{{ url_for('static', filename='img/2584721_XL.jpg') }}"
       alt="Professional & Technical Manpower"
       class="pointer-events-none absolute inset-0 h-full w-full object-cover opacity-0 scale-105
              transition duration-500 ease-out group-hover:opacity-100 group-hover:scale-100">
  <!-- Overlay -->
  <div class="pointer-events-none absolute inset-0 bg-black/0 transition duration-500 ease-out
              group-hover:bg-black/35"></div>
  <!-- Text (centered) -->
  <div class="relative z-10 flex flex-col items-center justify-center h-full transition duration-500 ease-out group-hover:opacity-0">
    <div class="text-xl font-semibold">ENGINEERING SOLUTIONS</div>
  </div>
</a>
<a href="{{ url_for('main.services_digital') }}"
   class="group relative block rounded-2xl border bg-white p-6 shadow-sm overflow-hidden hover:shadow-md transition rm-safe text-center">
  <!-- Hover image -->
  <img src="{{ url_for('static', filename='img/2584721_XL.jpg') }}"
       alt="Professional & Technical Manpower"
       class="pointer-events-none absolute inset-0 h-full w-full object-cover opacity-0 scale-105
              transition duration-500 ease-out group-hover:opacity-100 group-hover:scale-100">
  <!-- Overlay -->
  <div class="pointer-events-none absolute inset-0 bg-black/0 transition duration-500 ease-out
              group-hover:bg-black/35"></div>
  <!-- Text (centered) -->
  <div class="relative z-10 flex flex-col items-center justify-center h-full transition duration-500 ease-out group-hover:opacity-0">
    <div class="text-xl font-semibold">DIGITAL SOLUTIONS & CYBERSECURITY CONSULTANCY</div>
  </div>
</a>
<a href="{{ url_for('main.services_inspection') }}"
   class="group relative block rounded-2xl border bg-white p-6 shadow-sm overflow-hidden hover:shadow-md transition rm-safe text-center">
  <!-- Hover image -->
  <img src="{{ url_for('static', filename='img/2584721_XL.jpg') }}"
       alt="Professional & Technical Manpower"
       class="pointer-events-none absolute inset-0 h-full w-full object-cover opacity-0 scale-105
              transition duration-500 ease-out group-hover:opacity-100 group-hover:scale-100">
  <!-- Overlay -->
  <div class="pointer-events-none absolute inset-0 bg-black/0 transition duration-500 ease-out
              group-hover:bg-black/35"></div>
  <!-- Text (centered) -->
  <div class="relative z-10 flex flex-col items-center justify-center h-full transition duration-500 ease-out group-hover:opacity-0">
    <div class="text-xl font-semibold">SPECIALIZED INSPECTION SERVICES</div>
  </div>
</a>
<a href="{{ url_for('main.services_construction') }}"
   class="group relative block rounded-2xl border bg-white p-6 shadow-sm overflow-hidden hover:shadow-md transition rm-safe text-center">
  <!-- Hover image -->
  <img src="{{ url_for('static', filename='img/2584721_XL.jpg') }}"
       alt="Professional & Technical Manpower"
       class="pointer-events-none absolute inset-0 h-full w-full object-cover opacity-0 scale-105
              transition duration-500 ease-out group-hover:opacity-100 group-hover:scale-100">
  <!-- Overlay -->
  <div class="pointer-events-none absolute inset-0 bg-black/0 transition duration-500 ease-out
              group-hover:bg-black/35"></div>
  <!-- Text (centered) -->
  <div class="relative z-10 flex flex-col items-center justify-center h-full transition duration-500 ease-out group-hover:opacity-0">
    <div class="text-xl font-semibold">GENERAL CONSTRUCTION SERVICES</div>
  </div>
</a>
<a href="{{ url_for('main.services_supply') }}"
   class="group relative block rounded-2xl border bg-white p-6 shadow-sm overflow-hidden hover:shadow-md transition rm-safe text-center">
  <!-- Hover image -->
  <img src="{{ url_for('static', filename='img/2584721_XL.jpg') }}"
       alt="Professional & Technical Manpower"
       class="pointer-events-none absolute inset-0 h-full w-full object-cover opacity-0 scale-105
              transition duration-500 ease-out group-hover:opacity-100 group-hover:scale-100">
  <!-- Overlay -->
  <div class="pointer-events-none absolute inset-0 bg-black/0 transition duration-500 ease-out
              group-hover:bg-black/35"></div>
  <!-- Text (centered) -->
  <div class="relative z-10 flex flex-col items-center justify-center h-full transition duration-500 ease-out group-hover:opacity-0">
    <div class="text-xl font-semibold">SUPPLY TRADING & EVENT MANAGEMENT</div>
  </div>
</a>
    </div>
  </div>
</section>


<!-- Why Choose KLSB -->
<section class="py-24 bg-white" id="why">
  <div class="max-w-7xl mx-auto px-6">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-3xl sm:text-4xl font-bold tracking-tight">Why Choose KLSB</h2>
  <p class="mt-5 text-slate-600 text-lg">We combine certified technical talent, disciplined project governance, and multi-domain capability to accelerate execution while de-risking delivery for engineering, energy and industrial stakeholders.</p>
    </div>

    <!-- Value pillars with small popups -->
    <div class="mt-14 feature-grid-enhanced md:grid-cols-2 lg:grid-cols-4">
      <div class="relative">
        <button class="feature-card text-left cursor-pointer" data-pillar="feature-certified" aria-haspopup="dialog">
          <div class="feature-card-media">
            <img src="{{ url_for('static', filename='img/hero.jpg') }}" alt="Certified expertise visual" loading="lazy">
          </div>
          <h3 class="font-semibold mb-2 flex items-center justify-center">Certified Expertise</h3>
          <p class="text-sm text-slate-600">Platform & discipline certified personnel with multi-environment execution history.</p>
        </button>
        <div id="pillar-popup-feature-certified" class="pillar-pop hidden absolute z-40 top-full left-1/2 -translate-x-1/2 mt-3 w-72 max-w-xs bg-white border border-slate-200 shadow-xl rounded-xl p-4 text-sm leading-relaxed">
          <div class="flex items-start gap-2">
            <h4 class="font-semibold text-slate-800 flex-1 pr-4">Certified Expertise</h4>
            <button type="button" class="pillar-close text-slate-400 hover:text-teal-600 text-lg leading-none font-bold" aria-label="Close">&times;</button>
          </div>
          <ul class="list-disc pl-5 mt-2 space-y-1">
            <li>Multi-platform (Aveva / Hexagon) stewardship</li>
            <li>Discipline cross-check & interfaces</li>
            <li>As-built reconciliation & metadata hygiene</li>
            <li>Mentored onboarding acceleration</li>
          </ul>
        </div>
      </div>
      <div class="relative">
        <button class="feature-card text-left cursor-pointer" data-pillar="feature-execution" aria-haspopup="dialog">
          <div class="feature-card-media">
            <img src="{{ url_for('static', filename='img/2584721_XL.jpg') }}" alt="Execution discipline process" loading="lazy">
          </div>
          <h3 class="font-semibold mb-2 flex items-center justify-center">Execution Discipline</h3>
          <p class="text-sm text-slate-600">Structured governance & QA/QC loops enable predictability.</p>
        </button>
        <div id="pillar-popup-feature-execution" class="pillar-pop hidden absolute z-40 top-full left-1/2 -translate-x-1/2 mt-3 w-72 max-w-xs bg-white border border-slate-200 shadow-xl rounded-xl p-4 text-sm leading-relaxed">
          <div class="flex items-start gap-2">
            <h4 class="font-semibold text-slate-800 flex-1 pr-4">Execution Discipline</h4>
            <button type="button" class="pillar-close text-slate-400 hover:text-teal-600 text-lg leading-none font-bold" aria-label="Close">&times;</button>
          </div>
          <ol class="list-decimal pl-5 mt-2 space-y-1">
            <li>Structured kickoff & interface matrix</li>
            <li>Milestone dashboards & variance surfacing</li>
            <li>QA/QC gates with defect taxonomy</li>
            <li>Change impact logging & mitigation</li>
          </ol>
        </div>
      </div>
      <div class="relative">
        <button class="feature-card text-left cursor-pointer" data-pillar="feature-integrated" aria-haspopup="dialog">
          <div class="feature-card-media">
            <img src="{{ url_for('static', filename='img/business-2717427.jpg') }}" alt="Integrated capability collaboration" loading="lazy">
          </div>
            <h3 class="font-semibold mb-2 flex items-center justify-center">Integrated Capability</h3>
          <p class="text-sm text-slate-600">Cross-domain services under unified coordination.</p>
        </button>
        <div id="pillar-popup-feature-integrated" class="pillar-pop hidden absolute z-40 top-full left-1/2 -translate-x-1/2 mt-3 w-72 max-w-xs bg-white border border-slate-200 shadow-xl rounded-xl p-4 text-sm leading-relaxed">
          <div class="flex items-start gap-2">
            <h4 class="font-semibold text-slate-800 flex-1 pr-4">Integrated Capability</h4>
            <button type="button" class="pillar-close text-slate-400 hover:text-teal-600 text-lg leading-none font-bold" aria-label="Close">&times;</button>
          </div>
          <ul class="list-disc pl-5 mt-2 space-y-1">
            <li>Consolidated multi-domain reporting</li>
            <li>Shared standards & knowledge base</li>
            <li>Unified escalation & risk register</li>
            <li>Toolchain alignment & credential governance</li>
          </ul>
        </div>
      </div>
      <div class="relative">
        <button class="feature-card text-left cursor-pointer" data-pillar="feature-adaptive" aria-haspopup="dialog">
          <div class="feature-card-media">
            <img src="{{ url_for('static', filename='img/shutterstock_744825085-min.jpg') }}" alt="Adaptive engagement flexibility" loading="lazy">
          </div>
          <h3 class="font-semibold mb-2 flex items-center justify-center">Adaptive Engagement</h3>
          <p class="text-sm text-slate-600">Engagement models aligned to phase & risk appetite.</p>
        </button>
        <div id="pillar-popup-feature-adaptive" class="pillar-pop hidden absolute z-40 top-full left-1/2 -translate-x-1/2 mt-3 w-80 max-w-sm bg-white border border-slate-200 shadow-xl rounded-xl p-4 text-xs leading-relaxed">
          <div class="flex items-start gap-2">
            <h4 class="font-semibold text-slate-800 flex-1 pr-4">Adaptive Engagement</h4>
            <button type="button" class="pillar-close text-slate-400 hover:text-teal-600 text-lg leading-none font-bold" aria-label="Close">&times;</button>
          </div>
          <table class="w-full mt-2 border-collapse">
            <thead>
              <tr class="text-left text-slate-600 border-b">
                <th class="py-1 pr-3 font-semibold">Model</th>
                <th class="py-1 pr-3 font-semibold">Best For</th>
                <th class="py-1 font-semibold">Advantage</th>
              </tr>
            </thead>
            <tbody class="align-top">
              <tr class="border-b">
                <td class="py-1 pr-3">Capacity Aug</td>
                <td class="py-1 pr-3">Scaling workflows</td>
                <td class="py-1">Rapid ramp, low friction</td>
              </tr>
              <tr class="border-b">
                <td class="py-1 pr-3">Fixed Scope</td>
                <td class="py-1 pr-3">Defined deliverables</td>
                <td class="py-1">Predictable cost</td>
              </tr>
              <tr>
                <td class="py-1 pr-3">Hybrid / Retainer</td>
                <td class="py-1 pr-3">Evolving backlog</td>
                <td class="py-1">Continuity & elasticity</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

   

    <!-- Metrics / Indicators -->
    <div class="mt-24">
      <h3 class="text-xl font-semibold tracking-tight">Delivery Footprint</h3>
      <p class="mt-2 text-slate-600 max-w-2xl">Growing multi-industry support with scalable resource pools and active project governance.</p>
      <div class="mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-4">
        <div class="rounded-2xl bg-slate-900 text-white p-6 shadow-sm flex flex-col items-start">
          <div class="text-4xl font-bold leading-none" data-metric="clients">12+</div>
          <div class="mt-2 text-xs uppercase tracking-wide text-slate-300">Active Clients</div>
          <p class="mt-3 text-sm text-slate-200">Regional EPCs & operators (expanding).</p>
        </div>
        <div class="rounded-2xl bg-white border p-6 shadow-sm flex flex-col items-start">
          <div class="text-4xl font-bold leading-none" data-metric="projects">7</div>
          <div class="mt-2 text-xs uppercase tracking-wide text-slate-500">Projects Running</div>
          <p class="mt-3 text-sm text-slate-600">Design, modelling, security & supply tracks.</p>
        </div>
        <div class="rounded-2xl bg-white border p-6 shadow-sm flex flex-col items-start">
          <div class="text-4xl font-bold leading-none" data-metric="industries">5</div>
          <div class="mt-2 text-xs uppercase tracking-wide text-slate-500">Industries Served</div>
          <p class="mt-3 text-sm text-slate-600">Energy, petrochem, infra, marine, utilities.</p>
        </div>
        <div class="rounded-2xl bg-white border p-6 shadow-sm flex flex-col items-start">
          <div class="text-4xl font-bold leading-none" data-metric="experts">20+</div>
          <div class="mt-2 text-xs uppercase tracking-wide text-slate-500">Certified Specialists</div>
          <p class="mt-3 text-sm text-slate-600">Disciplines across design, cyber & data.</p>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- (Removed large overlay modal; using small anchored popups instead) -->


<!-- Clients -->
<section id="clients" class="pt-20 pb-12 bg-slate-50 text-center">
  <div class="max-w-6xl mx-auto px-6">
    <h2 class="text-3xl font-semibold">Our Major Clients</h2>
    <div class="mt-8 flex justify-center">
      <img src="{{ url_for('static', filename='img/major_client.jpg') }}"
           alt="Major client"
           class="w-full max-w-4xl mx-auto rounded-lg shadow-lg object-contain">
    </div>
  </div>
</section>


<script>
(function(){
  const triggers = document.querySelectorAll('[data-pillar]');
  let openPopup = null;
  let lastTrigger = null;

  function showPopup(id, trigger){
    const popup = document.getElementById('pillar-popup-' + id);
    if(!popup) return;
    // Close current
    if(openPopup && openPopup !== popup){ hidePopup(openPopup); }
    if(popup.classList.contains('hidden')){
      popup.classList.remove('hidden');
      popup.setAttribute('data-open','');
      openPopup = popup;
      lastTrigger = trigger;
      // simple fade/scale
      popup.style.opacity = 0; popup.style.transform += ' translate-y-1';
      requestAnimationFrame(()=>{
        popup.style.transition='opacity .18s ease, transform .18s ease';
        popup.style.opacity=1; popup.style.transform = popup.style.transform.replace(' translate-y-1','');
      });
      // focus heading
      const focusEl = popup.querySelector('h4,button,table,ul,ol');
      focusEl && focusEl.focus && setTimeout(()=>focusEl.focus(),30);
    } else {
      hidePopup(popup);
    }
  }
  function hidePopup(p){
    if(!p) return;
    p.style.opacity=0; p.style.transform += ' translate-y-1';
    setTimeout(()=>{
      p.classList.add('hidden');
      p.removeAttribute('data-open');
      p.style.transition='';
      p.style.transform='';
      if(p===openPopup){ openPopup=null; lastTrigger && lastTrigger.focus(); }
    },160);
  }
  triggers.forEach(btn=>{
    btn.addEventListener('click',()=> showPopup(btn.getAttribute('data-pillar'), btn));
    btn.addEventListener('keydown',e=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); showPopup(btn.getAttribute('data-pillar'), btn);} });
  });
  document.addEventListener('click',e=>{
    if(openPopup){
      const within = openPopup.contains(e.target) || (lastTrigger && lastTrigger.contains(e.target));
      if(!within) hidePopup(openPopup);
      if(e.target.classList && e.target.classList.contains('pillar-close')) hidePopup(openPopup);
    }
  });
  document.addEventListener('keydown',e=>{ if(e.key==='Escape' && openPopup){ hidePopup(openPopup);} });
})();
</script>

{% endblock %}

